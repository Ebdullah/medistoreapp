<div class="container mt-4">
  <div class="row justify-content-center"> 
    <div class="col-md-6 mb-5"> 
      <div class="card shadow p-4"> 
        <h2 class="text-center mb-4">Medicine Form</h2> 

        <%= form_with model: [@branch, medicine] do |form| %>

          <div class="form-group mb-3">
            <%= form.label :sku %>
            <%= form.text_field :sku, class: 'form-control' %>
          </div>

          <div class="form-group mb-3">
            <%= form.label :name %>
            <%= form.text_field :name, class: 'form-control' %>
          </div>

          <div class="form-group mb-3">
            <%= form.label :description %>
            <%= form.text_field :description, class: 'form-control' %>
          </div>

          <div class="form-group mb-3">
            <%= form.label :price %>
            <%= form.number_field :price, class: 'form-control' %>
          </div>

          <div class="form-group mb-3">
            <%= form.label :stock_quantity %>
            <%= form.number_field :stock_quantity, class: 'form-control quantity-field', id: 'stockQuantity' %>
            <div class="invalid-feedback" id="stockQuantityError"><%= @medicine.errors[:stock_quantity].join(', ') if @medicine.errors[:stock_quantity].any? %></div> 
          </div>

          <% today = Date.today %>
          <% max_date = today + 7.years %>

          <div class="form-group mb-3">
            <%= form.label :expiry_date %>
            <div class="input-group">
              <%= form.date_field :expiry_date, 
                class: 'form-control', 
                aria: { describedby: 'expiryDateHelp' }, 
                min: today, 
                max: max_date %>
            </div>
          </div>


          <div class="d-flex justify-content-center mt-4 gap-3">
            <%= form.submit 'Save', class: 'btn btn-dark px-5 py-2' %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
